(window.webpackJsonp=window.webpackJsonp||[]).push([[57],{408:function(s,a,e){"use strict";e.r(a);var t=e(9),l=Object(t.a)({},(function(){var s=this,a=s._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h2",{attrs:{id:"ssh-简介"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ssh-简介"}},[s._v("#")]),s._v(" SSH 简介")]),s._v(" "),a("p",[s._v("Secure Shell Protocol，简称 SSH，是一种加密的网络传输协议，可在不安全的网络中为网络服务提供安全的传输环境。SSH 以非对称加密实现身份验证。")]),s._v(" "),a("p",[s._v("在类 Unix 系统中，已许可登录的公钥通常保存在用户 ~/.ssh/authorized_keys 文件中，该文件只由 SSH 使用。当远程机器持有公钥，而本地持有对应私钥时，登录过程不再需要手动输入密码。")]),s._v(" "),a("h2",{attrs:{id:"免密码登录-linux"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#免密码登录-linux"}},[s._v("#")]),s._v(" 免密码登录 Linux")]),s._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[s._v("TIP")]),s._v(" "),a("p",[s._v("期望的结果，我只要输入 "),a("code",[s._v("ssh mflyyou")]),s._v(" 连接我的服务器。")])]),s._v(" "),a("ol",[a("li",[s._v("生成公私秘钥对")])]),s._v(" "),a("p",[a("code",[s._v(".pub")]),s._v(" 结尾是公钥")]),s._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# -f 指定生成的位置，运行以下命令生成 私钥： ~/.ssh/id_rsa_mflyyou，公钥： ~/.ssh/id_rsa_mflyyou.pub")]),s._v("\nssh-keygen "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-t")]),s._v(" rsa "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-b")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("4096")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-f")]),s._v(" ~/.ssh/id_rsa_mflyyou\n")])])]),a("ol",{attrs:{start:"2"}},[a("li",[s._v("将公钥复制到远程服务器")])]),s._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ssh-copy-id -i {公钥绝对路径} {远程服务器用户名}@{远程服务器 ip}")]),s._v("\nssh-copy-id "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-i")]),s._v(" ~/.ssh/id_rsa_mflyyou.pub parallels@10.211.55.8\n")])])]),a("p",[s._v("以上命令作用是，将指定的公钥内容，拷贝到远程服务器上的指定用户"),a("code",[s._v("parallels")]),s._v("下。这样以后这个用户（parallels）就可以不用输入密码登录了。")]),s._v(" "),a("p",[s._v("运行上述命令将公钥内容拷贝到 /home/parallels/.ssh/authorized_keys。")]),s._v(" "),a("ol",{attrs:{start:"3"}},[a("li",[s._v("本地电脑配置私钥")])]),s._v(" "),a("p",[s._v("在 "),a("code",[s._v("~/.ssh/config")]),s._v(" 配置以下内容。")]),s._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("Host mflyyou\n  HostName 10.211.55.8\n  AddKeysToAgent yes\n  UseKeychain yes\n  User parallels\n  IdentityFile ~/.ssh/id_rsa_mflyyou\n")])])]),a("ol",{attrs:{start:"4"}},[a("li",[s._v("测试可以访问远程服务器")])]),s._v(" "),a("ul",[a("li",[s._v("验证登录")])]),s._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ssh -T 私钥文件 用户名@ip")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("ssh")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-T")]),s._v(" ~/.ssh/id_rsa_mflyyou parallels@10.211.55.8\n")])])]),a("ul",[a("li",[s._v("或者验证是否持有远程服务器秘钥")])]),s._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[s._v("ssh-keygen "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-F")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.211")]),s._v(".55.8\n")])])]),a("p",[s._v("以上配置结束，你可以 "),a("code",[s._v("ssh mflyyou")]),s._v(" 登录远程服务器了。")])])}),[],!1,null,null,null);a.default=l.exports}}]);