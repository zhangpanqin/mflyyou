(window.webpackJsonp=window.webpackJsonp||[]).push([[78],{398:function(t,e,s){"use strict";s.r(e);var a=s(9),l=Object(a.a)({},(function(){var t=this,e=t._self._c;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("h1",{attrs:{id:"雪花算法"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#雪花算法"}},[t._v("#")]),t._v(" 雪花算法")]),t._v(" "),e("p",[t._v("雪花算法（SnowFlake）是 Twitter 开源分布式 id 的算法。一个 Snowflake ID 有 64 比特位，每个部分代表不同的含义，Java long 就是 64 位（1 字节，8 位，long 是 8 个字节）。")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("|-- 1 bit not use --|-- 41 bits timestamp in milliseconds --|-- 10 bits worker id --|-- 12 bits sequence --|\n")])])]),e("ul",[e("li",[t._v("第一部分：1 比特位，始终是 0，不使用。")]),t._v(" "),e("li",[t._v("第二部分：41 比特位，表示时间戳，毫秒值，可使用 69 年；这个值一般是当前毫秒值-减去一个固定数，意味着我们，从当下算的 69 年")]),t._v(" "),e("li",[t._v("worker id：10 比特位，如果你是在一个集群，可以根据 ip 地址来转换 worker id。")]),t._v(" "),e("li",[t._v("sequence：12 比特位，自增序列，二进制 12 位都是 1，是 4095, 代表一个机器，一毫秒，可以生成 4095 的 id 数量。")])]),t._v(" "),e("h3",{attrs:{id:"snowflake算法的缺点"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#snowflake算法的缺点"}},[t._v("#")]),t._v(" SnowFlake算法的缺点")]),t._v(" "),e("ul",[e("li",[t._v("SnowFlake 依赖于系统时钟的一致性。如果某台机器的系统时钟回拨，有可能造成ID冲突。")])])])}),[],!1,null,null,null);e.default=l.exports}}]);