(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{334:function(a,s,t){a.exports=t.p+"assets/img/20200320144522.deb0568c.png"},335:function(a,s,t){a.exports=t.p+"assets/img/20200320212048.e5d0f8e5.png"},401:function(a,s,t){"use strict";t.r(s);var e=t(9),n=Object(e.a)({},(function(){var a=this,s=a._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[s("h2",{attrs:{id:"linux-简介"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#linux-简介"}},[a._v("#")]),a._v(" Linux 简介")]),a._v(" "),s("p",[a._v("Linux 内核最初是由 Linus Torvalds 开发维护的。\nLinux 能运行主要的 UNIX 工具软件、应用程序和网络协议。它支持 32 位和 64 位硬件。\nLinux 继承了 Unix 以网络为核心的设计思想，是一个性能稳定的多用户网络操作系统。\nLinux 的发行版说简单点就是将 Linux 内核与应用软件做一个打包。")]),a._v(" "),s("p",[a._v("可选的有 Debian，Ubuntu，服务器部署选择 Debian 吧。")]),a._v(" "),s("p",[a._v("在 Linux 中，一切皆文件。所以各种目录、文件的权限、创建者、所属组都是比较实用的东西。")]),a._v(" "),s("h2",{attrs:{id:"linux-目录介绍"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#linux-目录介绍"}},[a._v("#")]),a._v(" Linux 目录介绍")]),a._v(" "),s("p",[s("img",{attrs:{src:t(334),alt:"190301204277681"}})]),a._v(" "),s("h3",{attrs:{id:"根目录"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#根目录"}},[a._v("#")]),a._v(" 根目录-"),s("code",[a._v("/")])]),a._v(" "),s("p",[a._v("根目录下面有许多子目录 "),s("code",[a._v("bin")]),a._v(" "),s("code",[a._v("etc")]),a._v(" "),s("code",[a._v("home")]),a._v(" "),s("code",[a._v("opt")]),a._v(" "),s("code",[a._v("usr")]),a._v(" "),s("code",[a._v("sbin")]),a._v(" "),s("code",[a._v("var")]),a._v(" "),s("code",[a._v("tmp")]),a._v(" 等等。")]),a._v(" "),s("h3",{attrs:{id:"root"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#root"}},[a._v("#")]),a._v(" "),s("code",[a._v("/root")])]),a._v(" "),s("p",[a._v("是用户 "),s("code",[a._v("root")]),a._v(" 的家目录。")]),a._v(" "),s("h3",{attrs:{id:"home"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#home"}},[a._v("#")]),a._v(" "),s("code",[a._v("/home")])]),a._v(" "),s("p",[a._v("除 "),s("code",[a._v("root")]),a._v(" 用户之外的其它的用户家目录。"),s("code",[a._v("cd ~")]),a._v(" 就是进入当前用户的家目录。")]),a._v(" "),s("h3",{attrs:{id:"bin"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#bin"}},[a._v("#")]),a._v(" "),s("code",[a._v("/bin")])]),a._v(" "),s("p",[s("code",[a._v("/bin")]),a._v(" 是一些二进制的执行文件, 也可能是软连接。")]),a._v(" "),s("h3",{attrs:{id:"sbin"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#sbin"}},[a._v("#")]),a._v(" "),s("code",[a._v("/sbin")])]),a._v(" "),s("p",[s("code",[a._v("s")]),a._v(" 指 Spuer user。")]),a._v(" "),s("p",[s("code",[a._v("/sbin")]),a._v(" 是一些二进制的执行文件, 也可能是软连接，管理员可执行的命令。")]),a._v(" "),s("h3",{attrs:{id:"etc"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#etc"}},[a._v("#")]),a._v(" "),s("code",[a._v("/etc")])]),a._v(" "),s("p",[s("code",[a._v("/etc")]),a._v(" 为配置文件所在路径。比如 "),s("code",[a._v("/etc/nginx")]),a._v(" 存放 "),s("code",[a._v("nginx")]),a._v(" 的配置文件。")]),a._v(" "),s("h3",{attrs:{id:"usr"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#usr"}},[a._v("#")]),a._v(" "),s("code",[a._v("/usr")])]),a._v(" "),s("p",[s("code",[a._v("usr")]),a._v(" 为 "),s("code",[a._v("unix system resources")]),a._v(" 简写。表示系统资源的路径。")]),a._v(" "),s("h4",{attrs:{id:"usr-bin"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#usr-bin"}},[a._v("#")]),a._v(" "),s("code",[a._v("/usr/bin")])]),a._v(" "),s("p",[a._v("所有用户的都可访问的二进制命令，不包括系统管理员的命令。")]),a._v(" "),s("h4",{attrs:{id:"usr-share"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#usr-share"}},[a._v("#")]),a._v(" "),s("code",[a._v("/usr/share")])]),a._v(" "),s("p",[a._v("包含共享数据。比如 "),s("code",[a._v("/usr/share/nginx")]),a._v(" 为 nginx 存放的静态资源。")]),a._v(" "),s("h4",{attrs:{id:"usr-local"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#usr-local"}},[a._v("#")]),a._v(" "),s("code",[a._v("/usr/local")])]),a._v(" "),s("p",[a._v("从源码编译安装的程序安装到这里。")]),a._v(" "),s("h4",{attrs:{id:"usr-src"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#usr-src"}},[a._v("#")]),a._v(" "),s("code",[a._v("/usr/src")])]),a._v(" "),s("p",[a._v("系统内核 "),s("code",[a._v("kernel")]),a._v(" 源码位置。")]),a._v(" "),s("h3",{attrs:{id:"var"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#var"}},[a._v("#")]),a._v(" "),s("code",[a._v("/var")])]),a._v(" "),s("p",[a._v("程序运行产生的缓存文件，锁文件，pid 文件，日志文件等会在这个目录，一些经常会变化的内容保存的位置。")]),a._v(" "),s("h2",{attrs:{id:"命令执行的优先级"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#命令执行的优先级"}},[a._v("#")]),a._v(" 命令执行的优先级")]),a._v(" "),s("p",[a._v("我们经常用 "),s("code",[a._v("pwd")]),a._v(" 获取当前目录路径，如果我自己写个 shell 脚本，命名为 "),s("code",[a._v("pwd")]),a._v(",将其加入到 "),s("code",[a._v("PATH")]),a._v(" 中，那二者谁会执行呢？")]),a._v(" "),s("p",[a._v("这就是为什么要了解命令的优先级了。")]),a._v(" "),s("h3",{attrs:{id:"命令优先级"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#命令优先级"}},[a._v("#")]),a._v(" 命令优先级")]),a._v(" "),s("p",[a._v("第一优先级：指定路径的命令。绝对路径 "),s("code",[a._v("/home/parallels/a.sh")]),a._v(" 或者相对路径 "),s("code",[a._v("./a.sh")]),a._v("。")]),a._v(" "),s("p",[a._v("第二优先级：别名指定的命令 "),s("code",[a._v("alias pwd=/home/parallels/a.sh")])]),a._v(" "),s("p",[a._v("第三优先级：内部命令(pwd)")]),a._v(" "),s("p",[a._v("第四优先级：hash 命令")]),a._v(" "),s("p",[a._v("第五优先级：通过 "),s("code",[a._v("PATH")]),a._v(" 定义的查找顺序查找")]),a._v(" "),s("p",[a._v("如果以上顺序都找不到，就会报 "),s("code",[a._v("未找到命令...")]),a._v(" 的错误。")]),a._v(" "),s("p",[a._v("通过 "),s("code",[a._v("type command")]),a._v(" 可以查看 command 命令类型。")]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# clear 已被哈希 (/usr/bin/clear)，clear 哈希命令")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("type")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("clear")]),a._v("\n\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# pwd 是 shell 内嵌。pwd 是内嵌命令。")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("type")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("pwd")]),a._v("\n\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# java 是 /usr/bin/java，java 是通过 PATH 寻找到的命令。")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("type")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("java")]),a._v("\n")])])]),s("p",[s("code",[a._v("alias pwd=/home/parallels/a.sh")]),a._v(" 通过改写 "),s("code",[a._v("pwd")]),a._v("。")]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# a.sh")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("echo")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("11")]),a._v("\n")])])]),s("p",[a._v("当我执行 "),s("code",[a._v("pwd")]),a._v(" 的时候，命令运行的是 "),s("code",[a._v("a.sh")])]),a._v(" "),s("h2",{attrs:{id:"path"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#path"}},[a._v("#")]),a._v(" PATH")]),a._v(" "),s("h3",{attrs:{id:"path-生效的原理"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#path-生效的原理"}},[a._v("#")]),a._v(" PATH 生效的原理")]),a._v(" "),s("p",[s("font",{attrs:{color:"red"}},[a._v("启动终端的时候会初始化命令，会加载 "),s("code",[a._v("/etc/profile")]),a._v(" 和 "),s("code",[a._v("~/.bash_profile")])])],1),a._v(" "),s("p",[s("code",[a._v("/etc/profile")]),a._v(" 会将路径加载"),s("code",[a._v("/usr/local/bin")]),a._v(" 、"),s("code",[a._v("/usr/bin")]),a._v("、"),s("code",[a._v("/usr/local/sbin")]),a._v(" 、"),s("code",[a._v("/usr/sbin")]),a._v(" 追加到 PATH 中去。然后将 "),s("code",[a._v("/etc/profile.d/*.sh")]),a._v(" 进行初始化。")]),a._v(" "),s("p",[s("code",[a._v("~")]),a._v("对应当前登录用户的用户空间。比如我用 "),s("code",[a._v("flyu")]),a._v(" 操作当前 shell，那么"),s("code",[a._v("~")]),a._v(" 等于 "),s("code",[a._v("/home/flyu")])]),a._v(" "),s("p",[s("code",[a._v("~/.bash_profile")]),a._v(" 会判断 "),s("code",[a._v("~/.bashrc")]),a._v(" 存在吗，存在会运行它。")]),a._v(" "),s("p",[s("code",[a._v("~/.bashrc")]),a._v(" 中会判断 "),s("code",[a._v("/etc/bashrc")]),a._v(" 存在吗，存在会运行它。")]),a._v(" "),s("p",[s("code",[a._v("/ect/bashrc")]),a._v(" 将 "),s("code",[a._v("/etc/profile.d/*.sh")]),a._v(" 进行初始化。")]),a._v(" "),s("h3",{attrs:{id:"path-全局配置"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#path-全局配置"}},[a._v("#")]),a._v(" PATH 全局配置")]),a._v(" "),s("p",[a._v("基于以上的理解，"),s("font",{attrs:{color:"red"}},[a._v("全局命令配置建议直接在 "),s("code",[a._v("/usr/bin")]),a._v("下建立软连接到你的可执行文件。")])],1),a._v(" "),s("p",[a._v("不要想着在 "),s("code",[a._v("/etc/profile.d/")]),a._v(" 下写脚本进行配置 PATH。当脚本写错，那么你可能会配置 "),s("code",[a._v("PATH")]),a._v(" 的有效性，")]),a._v(" "),s("h3",{attrs:{id:"path-用户配置"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#path-用户配置"}},[a._v("#")]),a._v(" PATH 用户配置")]),a._v(" "),s("p",[a._v("用户配置 PATH 直接在 "),s("code",[a._v("~/.bashrc")]),a._v(" 中追加 PATH 即可。")]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s("span",{pre:!0,attrs:{class:"token environment constant"}},[a._v("PATH")])]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('"'),s("span",{pre:!0,attrs:{class:"token variable"}},[a._v("${"),s("span",{pre:!0,attrs:{class:"token environment constant"}},[a._v("PATH")]),a._v("}")]),a._v(':/usr/local/aa"')]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("export")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token environment constant"}},[a._v("PATH")]),a._v("\n")])])]),s("p",[a._v("一般我们用 "),s("code",[a._v("yum")]),a._v(" 安装环境已经给配置好了环境变量。")]),a._v(" "),s("h2",{attrs:{id:"用户管理"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#用户管理"}},[a._v("#")]),a._v(" 用户管理")]),a._v(" "),s("p",[a._v("linux 下"),s("code",[a._v("用户")]),a._v("、"),s("code",[a._v("组")]),a._v("创建和管理。可以控制哪些"),s("code",[a._v("目录")]),a._v("和"),s("code",[a._v("文件")]),a._v("可以访问。")]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 创建 mflyyou 用户,同时会创建 mflyyou 组")]),a._v("\nadduser mflyyou\n")])])]),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 修改 mflyyou 的密码，命令之后会提示你输入密码")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("passwd")]),a._v(" mflyyou\n")])])]),s("p",[a._v("创建的用户是不具有 "),s("code",[a._v("sudo")]),a._v(" 提升权限的能力，需要修改 "),s("code",[a._v("/etc/sudoers")]),a._v(" 使之生效。")]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 在 root 下运行，修改文件的可写性")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("chmod")]),a._v("  "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("700")]),a._v(" /etc/sudoers\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# /etc/sudoers 文件中填写 mflyyou ALL=(ALL)      PASSWD:ALL")]),a._v("\nroot    "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("ALL")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("ALL"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("       ALL\nmflyyou "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("ALL")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("ALL"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("      PASSWD:ALL\n\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 权限给了之后，修改文件 /etc/sudoers 为只读性")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("chmod")]),a._v("  "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("400")]),a._v(" /etc/sudoers\n")])])]),s("h2",{attrs:{id:"文件权限控制"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#文件权限控制"}},[a._v("#")]),a._v(" 文件权限控制")]),a._v(" "),s("p",[s("img",{attrs:{src:t(335),alt:"image-20200320212048568"}})]),a._v(" "),s("p",[a._v("每行信息开头的第一个字母表示文件类型。")]),a._v(" "),s("p",[s("code",[a._v("d")]),a._v(" 表示目录。")]),a._v(" "),s("p",[s("code",[a._v("-")]),a._v(" 表示文件。")]),a._v(" "),s("p",[s("code",[a._v("l")]),a._v(" 表示软连接。")]),a._v(" "),s("p",[s("code",[a._v("mkdir")]),a._v(" 创建目录。")]),a._v(" "),s("p",[s("code",[a._v("touch")]),a._v(" 创建空文件。")]),a._v(" "),s("p",[a._v("对文件夹或文件划分权限。 4 读 r，2 编辑 w,1 执行 x")]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("chmod 754 /opt/config\n")])])]),s("p",[a._v("修改 /opt/config 所属用户、用户组、其它人的访问权限。")]),a._v(" "),s("ul",[s("li",[s("p",[a._v("所属用户：读、编辑、执行，7")])]),a._v(" "),s("li",[s("p",[a._v("所属组：读、执行，5")])]),a._v(" "),s("li",[s("p",[a._v("其他：读，4")])])]),a._v(" "),s("p",[a._v("修改文件夹或者文件的所属用户和用户组")]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("# 递归修改 /opt/config 的归属 admin 用户，所属 admin 组\nchown -R admin:admin  /opt/config\n")])])]),s("h2",{attrs:{id:"常用命令"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#常用命令"}},[a._v("#")]),a._v(" 常用命令")]),a._v(" "),s("p",[s("code",[a._v("linux")]),a._v(" 的命令不用刻意记，"),s("code",[a._v("-h")]),a._v(" "),s("code",[a._v("-?")]),a._v(" "),s("code",[a._v("man")]),a._v(" 都可以查看命令的帮助信息。")]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# man，查看系统内置的命令")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("man")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("find")]),a._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# -h -? 一般是程序的帮助信息")]),a._v("\nnginx "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-h")]),a._v("\n")])])]),s("h3",{attrs:{id:"基本命令"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#基本命令"}},[a._v("#")]),a._v(" 基本命令")]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 查看一个文件新生成内容，动态观看")]),a._v("\n\n"),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("tail")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-f")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-n")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("10")]),a._v(" a.txt\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 有的时候，两个命令执行有 依赖关系 ，a 执行成功执行 b")]),a._v("\n\na "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("&&")]),a._v(" b\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# a 执行成功与否，b 都要执行")]),a._v("\n\na "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("||")]),a._v(" b\n")])])]),s("h3",{attrs:{id:"scp-远程拷贝"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#scp-远程拷贝"}},[a._v("#")]),a._v(" scp-远程拷贝")]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 将 a 目录下的所有资源 拷贝到指定远程地址的 /usr/share/nginx/html/ 下")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("scp")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-rp")]),a._v(" /a/* 用户名@ip:/usr/share/nginx/html/\n")])])]),s("h3",{attrs:{id:"grep-查询文本"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#grep-查询文本"}},[a._v("#")]),a._v(" grep-查询文本")]),a._v(" "),s("p",[a._v("用于查询内容中符合指定格式的内容。")]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 不查询指定命令")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("grep")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-v")]),a._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 忽略大小")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("grep")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-i")]),a._v("\n\n"),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("ps")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-ef")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("|")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("grep")]),a._v(" jail-2.0-0.0.1-SNAPSHOT.jar "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("|")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("grep")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-v")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("grep")]),a._v("\n")])])]),s("h3",{attrs:{id:"awk-操作文本"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#awk-操作文本"}},[a._v("#")]),a._v(" awk-操作文本")]),a._v(" "),s("p",[a._v("对文本根据 "),s("code",[a._v("空格")]),a._v(" 或者 "),s("code",[a._v("tab")]),a._v(" 切割，然后根据操作获取符合条件的某行中某列的数据。")]),a._v(" "),s("p",[s("code",[a._v("$n")]),a._v(" 获取第几个内容，"),s("code",[a._v("$0")]),a._v(" 获取当前行，"),s("code",[a._v("$NF")]),a._v(" 获取最后一个字段")]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# a2")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("echo")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('"a1 a2 a3"')]),a._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("|")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("awk")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v("'{print $2}'")]),a._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# a3")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("echo")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('"a1 a2 a3"')]),a._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("|")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("awk")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v("'{print $NF}'")]),a._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# a2")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("echo")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('"a1 a2 a3"')]),a._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("|")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("awk")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v("'{print $(NF-1)}'")]),a._v("\n")])])]),s("p",[a._v("awk 还提供一些内置函数。其余的内置函数可以查看帮助命令。")]),a._v(" "),s("ul",[s("li",[s("code",[a._v("toupper()")]),a._v("：字符转为大写。")]),a._v(" "),s("li",[s("code",[a._v("tolower()")]),a._v("：字符转为小写。")]),a._v(" "),s("li",[s("code",[a._v("length()")]),a._v("：返回字符串长度。")]),a._v(" "),s("li",[s("code",[a._v("substr()")]),a._v("：返回子字符串。")])]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# A2")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("echo")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('"a1 a2 a3"')]),a._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("|")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("awk")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v("'{print toupper($2)}'")]),a._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# a2")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("echo")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('"A1 A2 A3"')]),a._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("|")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("awk")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v("'{print tolower($2)}'")]),a._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 9")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("echo")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('"A1 123456789 A3"')]),a._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("|")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("awk")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v("'{print length($2)}'")]),a._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("#")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("echo")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('"A1 123456789 A3"')]),a._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("|")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("awk")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v("'{print substr($2)}'")]),a._v("\n")])])]),s("p",[a._v("指定分隔符使用。")]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# A2")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("echo")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('"a1:a2:a3"')]),a._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("|")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("awk")]),a._v(" -F: "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v("'{print toupper($2)}'")]),a._v("\n")])])]),s("p",[a._v("使用条件进行筛选。")]),a._v(" "),s("p",[a._v("log.txt")]),a._v(" "),s("div",{staticClass:"language-txt extra-class"},[s("pre",{pre:!0,attrs:{class:"language-txt"}},[s("code",[a._v("a1 a2 a3 a4\nbb1 bb2 bb3 bb4\nccc1 ccc2 ccc3 ccc4\n")])])]),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 获取每行第一列内容")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("awk")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v("'{print $1}'")]),a._v(" a.txt\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 获取每行第一列，字符长度大于 2 的，只有第二和第三行的打印出来了。bb1,ccc1")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("awk")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v("'length($1) > 2 {print $1}'")]),a._v(" a.txt\n")])])]),s("h3",{attrs:{id:"sed-操作文本"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#sed-操作文本"}},[a._v("#")]),a._v(" sed-操作文本")]),a._v(" "),s("p",[a._v("也是一个比较厉害的操作文本的命令。可以用于替换文件中的内容，删除或新增内容，搜索符合条件的内容")]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 将 a 替换为 ，")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("echo")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('"a1b2c1"')]),a._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("|")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("sed")]),a._v(" s/a/,/g\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 比如我们在本地部署集群的时候，批量生成配置文件")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("sed")]),a._v(" s/6379/6380/g redis.conf "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v(" redis_6380.conf\n")])])]),s("h3",{attrs:{id:"find-查询文件"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#find-查询文件"}},[a._v("#")]),a._v(" find-查询文件")]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# find  path  option ;")]),a._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 查询某个路径下的名称为 a.sh，这里会查出文件和目录")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("find")]),a._v(" / "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-name")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('"a.sh"')]),a._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 指定查询 文件（f）或者目录(d)")]),a._v("\n\n"),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("find")]),a._v(" / "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-name")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('"a.sh"')]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-type")]),a._v(" f\n")])])])])}),[],!1,null,null,null);s.default=n.exports}}]);