(window.webpackJsonp=window.webpackJsonp||[]).push([[27],{359:function(a,t,s){a.exports=s.p+"assets/img/image-20240705095840208.60d0522a.png"},455:function(a,t,s){"use strict";s.r(t);var n=s(9),e=Object(n.a)({},(function(){var a=this,t=a._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[t("h1",{attrs:{id:"jackson"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#jackson"}},[a._v("#")]),a._v(" Jackson")]),a._v(" "),t("h2",{attrs:{id:"核心概念介绍"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#核心概念介绍"}},[a._v("#")]),a._v(" 核心概念介绍")]),a._v(" "),t("h4",{attrs:{id:"objectmapper"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#objectmapper"}},[a._v("#")]),a._v(" ObjectMapper")]),a._v(" "),t("p",[t("code",[a._v("ObjectMapper")]),a._v(" 是 Jackson 的核心类，用于执行序列化和反序列化操作。它提供了大量的配置选项和方法来转换 JSON 和 Java 对象。")]),a._v(" "),t("h4",{attrs:{id:"jsonparser-和-jsongenerator"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#jsonparser-和-jsongenerator"}},[a._v("#")]),a._v(" JsonParser 和 JsonGenerator")]),a._v(" "),t("p",[t("code",[a._v("JsonParser")]),a._v(" 和 "),t("code",[a._v("JsonGenerator")]),a._v(" 是 Jackson 的低级别 API，分别用于解析 JSON 和生成 JSON。这两个类提供了对 JSON 数据流的逐步读取和写入能力。")]),a._v(" "),t("h4",{attrs:{id:"jsonnode"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#jsonnode"}},[a._v("#")]),a._v(" JsonNode")]),a._v(" "),t("p",[t("code",[a._v("JsonNode")]),a._v(" 是一个树模型类，表示 JSON 数据的树状结构。通过 "),t("code",[a._v("ObjectMapper")]),a._v(" 可以将 JSON 字符串解析为 "),t("code",[a._v("JsonNode")]),a._v("，或者将 "),t("code",[a._v("JsonNode")]),a._v(" 序列化为 JSON 字符串。")]),a._v(" "),t("h4",{attrs:{id:"serializer-和-deserializer"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#serializer-和-deserializer"}},[a._v("#")]),a._v(" Serializer 和 Deserializer")]),a._v(" "),t("p",[t("code",[a._v("JsonSerializer")]),a._v(" 和 "),t("code",[a._v("JsonDeserializer")]),a._v(" 是用于自定义序列化和反序列化逻辑的类。通过实现这些类，可以控制对象如何被转换为 JSON，以及 JSON 如何被转换为对象。")]),a._v(" "),t("h4",{attrs:{id:"module"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#module"}},[a._v("#")]),a._v(" Module")]),a._v(" "),t("p",[a._v("Jackson 允许注册自定义模块 ("),t("code",[a._v("Module")]),a._v(")，这些模块可以包含自定义序列化器、反序列化器、混合类等。")]),a._v(" "),t("h4",{attrs:{id:"beanserializermodifier"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#beanserializermodifier"}},[a._v("#")]),a._v(" BeanSerializerModifier")]),a._v(" "),t("p",[a._v("通过 "),t("code",[a._v("BeanSerializerModifier")]),a._v(" 可以修改 Jackson 的序列化过程，例如更改属性的序列化器，添加或删除属性等。")]),a._v(" "),t("h3",{attrs:{id:"序列化和反序列化过程"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#序列化和反序列化过程"}},[a._v("#")]),a._v(" 序列化和反序列化过程")]),a._v(" "),t("p",[t("img",{attrs:{src:s(359),alt:"image-20240705095840208"}})]),a._v(" "),t("p",[t("img",{attrs:{src:"READMD.assets/image-20240705095906386.png",alt:"image-20240705095906386"}})]),a._v(" "),t("h2",{attrs:{id:"敏感数据-脱敏"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#敏感数据-脱敏"}},[a._v("#")]),a._v(" 敏感数据，脱敏")]),a._v(" "),t("ol",[t("li",[a._v("定义注解")]),a._v(" "),t("li",[a._v("实现 AnnotationIntrospector 专门处理这个注解")]),a._v(" "),t("li",[a._v("实现 JsonSerializer 去做数据脱敏")]),a._v(" "),t("li",[a._v("实现一个Module 将这个模块注入到 Jackson")])]),a._v(" "),t("p",[a._v("代码参考 "),t("a",{attrs:{href:"https://github.com/zhangpanqin/fly-jackson/blob/main/jackson-case/src/main/java/com/mflyyou/filter/MyAnnotationIntrospectorModule.java",target:"_blank",rel:"noopener noreferrer"}},[a._v("MyAnnotationIntrospectorModule"),t("OutboundLink")],1)]),a._v(" "),t("h2",{attrs:{id:"jackson-的使用"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#jackson-的使用"}},[a._v("#")]),a._v(" Jackson 的使用")]),a._v(" "),t("h3",{attrs:{id:"jsoncreator"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#jsoncreator"}},[a._v("#")]),a._v(" JsonCreator")]),a._v(" "),t("p",[a._v("用于反序列化为对象，比如 SpringBoot 默认使用字面量，转换字符串到枚举。")]),a._v(" "),t("p",[a._v("如果我们想自定义转换，可以按一下操作")]),a._v(" "),t("div",{staticClass:"language-java extra-class"},[t("pre",{pre:!0,attrs:{class:"language-java"}},[t("code",[t("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[a._v("@Getter")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("public")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("enum")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("SexEnum")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n    "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("BOY")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("1")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"男"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n    "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("GIRL")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("2")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"女"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n\n    "),t("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("SexEnum")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),t("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("Integer")]),a._v(" code"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("String")]),a._v(" desc"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n        "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("this")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("code "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v(" code"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n        "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("this")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("desc "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v(" desc"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\n\n    "),t("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[a._v("@JsonCreator")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("mode "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token constant"}},[a._v("DELEGATING")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("public")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("static")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("SexEnum")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("of")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),t("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[a._v("@JsonProperty")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"code"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("Integer")]),a._v(" code"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n        "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("for")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),t("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("SexEnum")]),a._v(" value "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("values")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n            "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("if")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("value"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("code"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("equals")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("code"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n                "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("return")]),a._v(" value"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n            "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\n        "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\n        "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("return")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("null")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\n\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("private")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("final")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("Integer")]),a._v(" code"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("private")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("final")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("String")]),a._v(" desc"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\n")])])]),t("h3",{attrs:{id:"jsonvalue"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#jsonvalue"}},[a._v("#")]),a._v(" JsonValue")]),a._v(" "),t("p",[a._v("制定序列化的字段")])])}),[],!1,null,null,null);t.default=e.exports}}]);