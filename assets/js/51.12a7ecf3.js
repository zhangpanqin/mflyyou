(window.webpackJsonp=window.webpackJsonp||[]).push([[51],{400:function(t,a,s){"use strict";s.r(a);var e=s(9),n=Object(e.a)({},(function(){var t=this,a=t._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("p",[t._v("Debian 11 的代号是 bullseye。")]),t._v(" "),a("h2",{attrs:{id:"软件包管理器"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#软件包管理器"}},[t._v("#")]),t._v(" 软件包管理器")]),t._v(" "),a("p",[a("code",[t._v("dpkg")]),t._v(" 是一个更底层的包管理器。")]),t._v(" "),a("p",[a("code",[t._v("apt")]),t._v(" 和 "),a("code",[t._v("apt-get")]),t._v(" 是一个更贴近用户更友好的包管理，不过它俩的底层是 dpkg。")]),t._v(" "),a("p",[t._v("debian 官方文件有一句话")]),t._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[t._v("Users are recommended to use the new apt"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("8")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("command")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" interactive usage \nand use the apt-get"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("8")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" and apt-cache"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("8")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" commands "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("in")]),t._v(" the shell script.\n")])])]),a("p",[t._v("意思就是我们在写脚本的时候还是使用 apt-get，terminal 中使用用 apt。")]),t._v(" "),a("p",[t._v("所以我们在 docker 官方 image dockerfile 中看到的都是使用 "),a("code",[t._v("apt-get")])]),t._v(" "),a("h3",{attrs:{id:"命令"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#命令"}},[t._v("#")]),t._v(" 命令")]),t._v(" "),a("p",[t._v("从 "),a("code",[t._v("/etc/apt/source.list")]),t._v(" 配置的连接读取包的更新信息。")]),t._v(" "),a("p",[t._v("debian 11 的配置。")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("deb http://deb.debian.org/debian bullseye main\ndeb http://deb.debian.org/debian-security bullseye-security main\ndeb http://deb.debian.org/debian bullseye-updates main\n")])])]),a("p",[t._v("apt update  会更新包索引库及下载软件包，因此我们在 docker image 中安装软件之后会删除")]),t._v(" "),a("p",[a("code",[t._v("rm -rf /var/lib/apt/lists/*")])]),t._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 列出已安装的包。")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("apt")]),t._v(" list "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("--installed")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 列出需要升级的")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("apt")]),t._v(" list "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("--upgradeable")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 更新存储库索引及下载包")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("apt")]),t._v(" update \n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 安装软件包。")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("apt")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-y")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("curl")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 卸载安装的软件。")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("apt")]),t._v(" remove nginx\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 搜索某个软件在那个包")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("apt")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v(" apt-file\napt-file update\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 正则搜寻")]),t._v("\napt-file search "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-x")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'/bin/ss$'")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# list 某个包文件")]),t._v("\napt-file list iproute2\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 查看执行文件")]),t._v("\napt-file list iproute2 "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("grep")]),t._v(" bin\n")])])])])}),[],!1,null,null,null);a.default=n.exports}}]);